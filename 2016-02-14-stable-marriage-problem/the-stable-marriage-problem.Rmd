---
title: "The Stable Marriage Problem"
author: "Rhian Davies"
date: "2018/04/15"
output:
  xaringan::moon_reader:
    css: ["default", "rladies-fonts"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

# Scenario

![](images/scenario.png)
---
# What is a stable marriage situation?

-  A matching of men and women such that no two people of opposite sex would **both** rather have each other than their current partners.

![](images/couple1.png)
![](images/couple2.png)
---
class: bottom
background-image: url("./images/gale-and-shapley.jpeg")
background-size: cover

---
# Gale – Shapley algorithm (1962)

- Male proposes to his preferred female.

- If she is single they get engaged.

- If she is already engaged she chooses her favourite. The rejected male must now propose to his next preference.

---
# Proof that G-S algorithm gives a stable pairing.

--

- Suppose Bob prefers Alice to his wife Bobetta

--

- During G-S, Bob must have proposed to Alice before proposing to Bobetta.

--

- If Alice accepted his proposal, yet is not married to him at the end, she must have dumped him for someone she likes more, and therefore doesn't like Bob more than Alan.

--

- If Alice rejected his proposal, she was already with someone she liked more than Bob.

---
Life isn’t a Jane Austen novel
Gay couples
Bisexuality

Why bother!

Roth used Gale and Shapely’s work to reshape the NRMP matching algorithm so that it produced matches that were more stable

Helping transplant patients find a match

Shapley and Roth the Nobel Prize in 2012. (David Gale passed away in 2008.)
 
 Theoretical and abstract
 Obscure and pointless?
 Built the foundation for improving lives.
 
---

```{r table, echo = FALSE}
library(tidyverse)
library(emoGG)

matches = tibble::tribble(
  ~men, ~W, ~X, ~Y, ~Z,
         "A", 0, 0, 0, 0,
         "B", 0, 0, 0, 0,
         "C", 1, 0, 0, 0,
         "D", 0, 0, 0, 0
  )


matches %>%
  gather(key = women, value = match, -men) %>%
# mutate(men = as.factor(men), women = as.factor(women)) %>%
  mutate_all(as.factor) %>%
  #filter(match == 1) %>%
  ggplot(aes(men, women)) + 
  geom_tile(aes(fill = match)) +
  geom_emoji(emoji="2764") +
  theme_minimal()
```
---

# Other applications

- Stable roommates problem
- Medical interns and hospitals

---

background-image: url("./images/proposal.gif")
background-size: cover

---
class: center, middle
# Thank you

@trianglegirl

## References
 - Oberwolfach Photo Collection

